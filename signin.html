<!-- signin.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Bootstrap -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />

  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />

  <!-- Your existing signin design -->
  <link rel="stylesheet" href="signin.css" />

  <link rel="shortcut icon" href="images/limcoma logoo.png" type="image/x-icon" />
  <title>Sign In | LIMCOMA</title>

  <style>
    /* Small safety style for messages (keeps your design) */
    .status { display:none; margin-top:12px; padding:12px 14px; border-radius:10px; font-weight:800; }
    .status.ok { background:#ecfdf5; border:1px solid rgba(16,185,129,.25); color:#065f46; }
    .status.err { background:#fef2f2; border:1px solid rgba(239,68,68,.25); color:#991b1b; }
  </style>
</head>

<body>

  <!-- TOPBAR -->
  <div class="topbar">
    <div class="container d-flex align-items-center justify-content-between py-2">
      <div class="brand">
        <img src="images/limcoma logoo.png" alt="LIMCOMA Logo">
        LIMCOMA COOP
      </div>

      <div class="d-flex align-items-center">
        <a href="index.html" class="nav-link">Home</a>
        <a href="membership_page.html" class="nav-link">Membership</a>
        <a href="#help" class="nav-link">Help</a>
      </div>
    </div>
  </div>

  <main class="page">
    <div class="container">

      <div class="hero-strip">
        <h1>Sign In</h1>
        <p>Sign in to track your membership application status and receive updates.</p>
      </div>

      <a class="back-link mb-3 d-inline-block" href="index.html">
        <i class="fas fa-arrow-left"></i> Back to Homepage
      </a>

      <div class="grid">

        <!-- SIGN IN CARD -->
        <div class="card">
          <div class="card-head">
            <h2>Account Login</h2>
            <small>Enter your email and password.</small>
          </div>

          <div class="card-body">
            <form id="signinForm" autocomplete="on">

              <div class="form-group">
                <label>Email</label>
                <input id="email" type="email" class="form-control" name="email" required />
              </div>

              <div class="form-group">
                <label>Password</label>
                <div style="position:relative;">
                  <input id="password" type="password" class="form-control" name="password" required style="padding-right:44px;" />
                  <button type="button" id="togglePass"
                    style="position:absolute; right:10px; top:50%; transform:translateY(-50%); background:transparent; border:none; color:var(--muted);">
                    <i class="fas fa-eye"></i>
                  </button>
                </div>
              </div>

              <div class="d-flex align-items-center justify-content-between mb-3" style="gap:10px;">
                <label class="m-0" style="display:flex; align-items:center; gap:8px; color:var(--muted); font-weight:700;">
                  <input id="rememberMe" type="checkbox" style="transform:scale(1.1);">
                  Remember me
                </label>

                <a href="#help" class="back-link" style="font-weight:800;">Forgot password?</a>
              </div>

              <button type="submit" class="btn btn-main">Sign In</button>

              <!-- Messages -->
              <div id="loginOk" class="status ok">
                ✅ Login successful. Redirecting to Membership Form...
              </div>
              <div id="loginErr" class="status err">
                ❌ Incorrect email or password.
                <div style="font-weight:700; margin-top:6px; font-size:.95rem;">
                  Demo account:<br>
                  Email: <b>member@limcoma.com</b><br>
                  Password: <b>Limcoma@123</b>
                </div>
              </div>

              <div class="mt-3" style="color:var(--muted); font-weight:700;">
                Don’t have an account yet?
                <a href="signup.html" class="back-link">Apply Membership</a>
              </div>
            </form>
          </div>
        </div>

        <!-- SIDE HELP CARD -->
        <div class="card" id="help">
          <div class="side">
            <h2 style="font-size:1.15rem; font-weight:800; margin:0 0 10px;">Need help signing in?</h2>

            <div class="info-item">
              <i class="fas fa-info-circle"></i>
              <div>
                <h3>Use your application email</h3>
                <p>Sign in using the same email you used in your membership application.</p>
              </div>
            </div>

            <div class="info-item">
              <i class="fas fa-lock"></i>
              <div>
                <h3>Password reset</h3>
                <p>If you forgot your password, contact the office to verify your identity and reset access.</p>
              </div>
            </div>

            <div class="info-item">
              <i class="fas fa-headset"></i>
              <div>
                <h3>Support</h3>
                <p>We can assist you during office hours for account concerns.</p>
              </div>
            </div>

            <hr>

            <p style="margin:0; color:var(--muted); font-size:0.92rem;">Contact:</p>
            <p style="margin:8px 0 0; font-weight:800;">
              <i class="fas fa-envelope"></i> limcomamultipurposecooperative@gmail.com<br>
              <i class="fas fa-phone-alt"></i> (043 756-2578)
            </p>
          </div>
        </div>

      </div>

      <footer class="text-center">
        © LIMCOMA MULTI-PURPOSE COOPERATIVE
      </footer>

    </div>
  </main>

  <script>
    // ✅ Fixed credentials (change these anytime)
    const FIXED_EMAIL = "limcoma@gmail.com";
    const FIXED_PASSWORD = "limcoma123";

    // If "Remember me" saved the email, restore it
    (function restoreRemembered(){
      const savedEmail = localStorage.getItem("limcoma_saved_email");
      if(savedEmail){
        const emailEl = document.getElementById("email");
        emailEl.value = savedEmail;
        document.getElementById("rememberMe").checked = true;
      }
    })();

    // Demo sign-in with redirect
    document.getElementById("signinForm").addEventListener("submit", function(e){
      e.preventDefault();

      const email = document.getElementById("email").value.trim();
      const pass  = document.getElementById("password").value;

      const okBox  = document.getElementById("loginOk");
      const errBox = document.getElementById("loginErr");
      okBox.style.display = "none";
      errBox.style.display = "none";

      if(email.toLowerCase() === FIXED_EMAIL.toLowerCase() && pass === FIXED_PASSWORD){
        // ✅ mark logged-in
        sessionStorage.setItem("limcoma_logged_in", "true");
        sessionStorage.setItem("limcoma_user_email", email);

        // Remember email (optional)
        if(document.getElementById("rememberMe").checked){
          localStorage.setItem("limcoma_saved_email", email);
        } else {
          localStorage.removeItem("limcoma_saved_email");
        }

        okBox.style.display = "block";

        // redirect
        setTimeout(() => {
          window.location.href = "membership_page.html";
        }, 650);

      } else {
        errBox.style.display = "block";
        window.scrollTo({ top: 0, behavior: "smooth" });
      }
    });

    // Show/Hide password
    const pass = document.getElementById("password");
    const toggle = document.getElementById("togglePass");
    toggle.addEventListener("click", () => {
      const isHidden = pass.type === "password";
      pass.type = isHidden ? "text" : "password";
      toggle.innerHTML = isHidden ? '<i class="fas fa-eye-slash"></i>' : '<i class="fas fa-eye"></i>';
    });

    // ✅ ADDED: Header scroll effect (design + shadow)
    (function headerScrollFX(){
      const topbar = document.querySelector(".topbar");
      const onScroll = () => {
        if(window.scrollY > 8) topbar.classList.add("is-scrolled");
        else topbar.classList.remove("is-scrolled");
      };
      onScroll();
      window.addEventListener("scroll", onScroll, { passive:true });
    })();
  </script>

</body>
</html>